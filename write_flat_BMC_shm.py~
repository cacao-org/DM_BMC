from pyMilk.interfacing.isio_shmlib import SHM as shm
import time
import numpy as np


dmvolt      = shm("dmvolt", verbose=False)

Shape_500nm = np.array( [0.223041833523458, 0.268057923915735, 0.271838132416852, 
0.251710932371807,
0.279845325784821,
0.296198649497127,
0.260419536442767,
0.276612877695893,
0.304763645756981,
0.252575992590225,
0.254584864045683,
0.290877447812957,
0.249484014265251,
0.291943939867006,
0.283194717963653,
0.282869020861211,
0.319151035186599,
0.318690422017506,
0.302841210822375,
0.314794313780171,
0.333203418023603,
0.299125546938587,
0.303335519632836,
0.330344938011712,
0.280434579806273,
0.268279452772405,
0.307543795306446,
0.258067865838153,
0.298607765033300,
0.279222199410208,
0.298646037333107,
0.328388824685181,
0.320594757255459,
0.327596537308039,
0.339147035511732,
0.343699876703733,
0.335545663405343,
0.334913109815593,
0.349936617112591,
0.321649593066395,
0.307000103084832,
0.336700147055882,
0.289399663674593,
0.264120758797908,
0.301017134165522,
0.250947353378499,
0.292588955846304,
0.255163717824168,
0.298513667580355,
0.327115336290503,
0.306394636971837,
0.333782141960015,
0.346142009272541,
0.336565767771496,
0.350178209505063,
0.349194056857797,
0.350806225330982,
0.341779396202720,
0.331466159219138,
0.343024823380726,
0.320830404799508,
0.294006074044469,
0.321302044092272,
0.283911193442184,
0.238286301171734,
0.277972309383290,
0.281084003821056,
0.305639112068924,
0.270962796299444,
0.323406246678212,
0.332575908551503,
0.313382300491868,
0.346344598707877,
0.346748956877196,
0.335102366414214,
0.348803208858128,
0.330655106329202,
0.337131900881091,
0.333128179571581,
0.302859240595752,
0.320955030666227,
0.299834207130692,
0.255798071832946,
0.282762520671657,
0.291936120671482,
0.305470950890457,
0.271094594179935,
0.327096768038939,
0.321151471936708,
0.301173482535810,
0.337258849285982,
0.320743689745421,
0.313946266670526,
0.329219316250002,
0.300333442446983,
0.305564428831493,
0.304418760765584,
0.259281356212487,
0.276143969577676,
0.288309000332389,
0.284734133210604,
0.255114693815739,
0.308593600946036,
0.294582608054293,
0.273701795135427,
0.311075403738742,
0.286318005116396,
0.275327995517162,
0.294788413204680,
0.248281509650382,
0.255624039925183 ])


Shape_2900nm = np.array( [0.794163180052670,
0.822115563169537,
0.831806154729315,
0.814952175999766,
0.834183481180053,
0.852567825469760,
0.825576979304829,
0.833103200419731,
0.858731983776167,
0.815420452678937,
0.816705074777130,
0.850048532043864,
0.811496010626075,
0.847929159605034,
0.844588149694167,
0.848471419449682,
0.872233022000857,
0.875912791711034,
0.864906278561245,
0.870115405252343,
0.886674343340081,
0.856529058007227,
0.864008586955096,
0.884354756561204,
0.845723089200428,
0.827651734300988,
0.865674959449108,
0.819435866890333,
0.851483619983968,
0.843731521408052,
0.857813979205520,
0.882414385575005,
0.877379447515752,
0.881807868771160,
0.894050959110915,
0.896378491694716,
0.891192668456605,
0.888348931835934,
0.904451999150512,
0.879446174174565,
0.868488512312794,
0.891453205932044,
0.852357692511686,
0.830924037767993,
0.861615150651370,
0.812536554782977,
0.850551763447163,
0.817829570612421,
0.855593609671153,
0.878344672704307,
0.866245101470196,
0.889031856410302,
0.897035574996896,
0.891495629309833,
0.903357208098249,
0.902360216586694,
0.904667756794680,
0.893322897217122,
0.890385180596220,
0.897106792776191,
0.880862569375432,
0.861721647435761,
0.883702769879718,
0.845515536141439,
0.802444015858224,
0.847027159936340,
0.840662204021086,
0.860689384608846,
0.834203514740666,
0.878860695371657,
0.884198107293129,
0.875775976483485,
0.898104362367570,
0.901692638268592,
0.892896439584862,
0.901440758709742,
0.887105769496313,
0.895665713832024,
0.888843129432082,
0.869846187423289,
0.883895406534995,
0.859852204161492,
0.825405657645396,
0.851453214682126,
0.849927096493731,
0.863771114671300,
0.835225222125597,
0.883298850260040,
0.879936809549785,
0.866592318758960,
0.889433344135157,
0.882662215837440,
0.877747039636428,
0.882897191448321,
0.868451050886056,
0.871573167438571,
0.863879503509417,
0.828190922042056,
0.847876307164406,
0.848809330930319,
0.839165760758047,
0.825401362296247,
0.865067845109474,
0.853865847647340,
0.838811569189497,
0.868182657938610,
0.848375550046317,
0.840013133220437,
0.856291783494459,
0.819116360496629,
0.826292403067109])


dmvolt.set_data(Shape_500nm.astype(np.float32))

# -----------------------------------------------------------------------------
# Close shared memory
# -----------------------------------------------------------------------------

dmvolt.close()
